import{d as T,r as p,l as $,o as b,c as M,e as t,t as j,g as A,k as G,F as J,q as K,n as P}from"./index-90a83807.js";const Q={class:"vega-app-wrapper"},U={class:"header flex-row"},Z=t("div",{class:"header-icon"},null,-1),ee={class:"header-name"},te=t("div",{class:"header-menu"},null,-1),oe={class:"header-right flex-row"},se=t("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"20",height:"20"},[t("path",{id:"svg_2","p-id":"3862",fill:"currentColor",d:"m327.4,599.99999l369.2,0c33.98,0.14 61.42,27.8 61.28,61.78c-0.14,33.79 -27.49,61.15 -61.28,61.28l-369.2,0c-33.98,0.14 -61.64,-27.3 -61.78,-61.28c-0.14,-33.98 27.3,-61.64 61.28,-61.78l0.5,0z"})],-1),le=[se],ae=t("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20"},[t("path",{d:"M429.96 594.04H224.85c-27.35-4.69-41.02-18.37-41.02-41.02 0-22.66 13.67-36.33 41.02-41.02H512v287.15c0 27.35-13.67 41.02-41.02 41.02s-41.02-13.68-41.02-41.02V594.04z m205.11-205.11h205.11c27.35 4.69 41.02 18.37 41.02 41.02s-13.68 36.33-41.02 41.02H553.02V183.83c0-27.35 13.67-41.02 41.02-41.02s41.02 13.67 41.02 41.02l0.01 205.1z",fill:"currentColor"}),t("path",{d:"M178.85 787.14l116.03-116.03c16.02-16.02 42-16.02 58.02 0 16.02 16.02 16.02 42 0 58.02L236.86 845.15c-16.02 16.02-41.99 16.02-58.01 0s-16.02-41.99 0-58.01z m533.28-533.28l116.03-116.03c16.02-16.02 41.99-16.02 58.01 0 16.02 16.02 16.02 41.99 0 58.01L770.15 311.87c-16.02 16.02-41.99 16.02-58.01 0-16.02-16.02-16.02-41.99-0.01-58.01z",fill:"currentColor",opacity:"0.4"})],-1),ne=[ae],ie=t("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20"},[t("path",{d:"M758.13 265.87H470.98c-27.35-4.69-41.02-18.37-41.02-41.02s13.68-36.33 41.02-41.02h369.2v369.19c0 27.35-13.67 41.02-41.02 41.02s-41.02-13.68-41.03-41.02V265.87zM265.87 758.13h287.15c27.35 4.69 41.02 18.37 41.02 41.02 0 22.66-13.68 36.33-41.02 41.02H183.83v-369.2c0-27.35 13.67-41.02 41.02-41.02s41.02 13.68 41.02 41.02v287.16z",fill:"currentColor"}),t("path",{d:"M338.67 627.32l288.65-288.65a0.996 0.996 0 0 1 1.41 0l56.6 56.6c0.39 0.39 0.39 1.02 0 1.41L396.68 685.33a0.996 0.996 0 0 1-1.41 0l-56.6-56.6a0.996 0.996 0 0 1 0-1.41z",fill:"currentColor",opacity:"0.4"})],-1),ue=[ie],ve=t("button",null,[t("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"20",height:"20"},[t("path",{d:"m677.41,253.04l-421.47,420.82c-26.11,26.07 -26.14,68.37 -0.07,94.48l0.04,0.04c26.09,26.09 68.39,26.09 94.48,0l0.04,-0.04l420.82,-421.47c25.88,-25.92 25.86,-67.9 -0.04,-93.8c-25.9,-25.89 -67.88,-25.91 -93.8,-0.03z",fill:"currentColor"}),t("path",{transform:"rotate(90 513.492 510.794)",opacity:"0.4",d:"m677.41,253.04l-421.47,420.82c-26.11,26.07 -26.14,68.37 -0.07,94.48l0.04,0.04c26.09,26.09 68.39,26.09 94.48,0l0.04,-0.04l420.82,-421.47c25.88,-25.92 25.86,-67.9 -0.04,-93.8c-25.9,-25.89 -67.88,-25.91 -93.8,-0.03z",fill:"currentColor"})])],-1),re={class:"content"},ce={key:0,class:"mask"},pe=T({__name:"VegaAppWindow",props:{appName:{},className:{},width:{},height:{},resize:{type:Boolean},drag:{type:Boolean},isMax:{type:Boolean}},setup(D){const x=D,H=p(!1),g=p(x.isMax),E=p(!1),c=p(),a=p(x.width),n=p(x.height),i=p(0),u=p(0);let L="",W="",B=0,V=0;$(()=>{var d;if(x.isMax)a.value="100%",n.value="100%",i.value=0,u.value=0;else{const e=(d=c.value)==null?void 0:d.parentElement;if(e){const o=e.offsetWidth,w=e.offsetHeight;i.value=(o-parseInt(a.value))/2,u.value=(w-parseInt(n.value))/2}}H.value=!0});const F=()=>{g.value?Y():X()},X=()=>{q(),i.value=0,u.value=0,a.value="100%",n.value="100%",g.value=!0},Y=()=>{i.value=B,u.value=V,a.value=L,n.value=W,g.value=!1},R=()=>{E.value=!0},q=()=>{L=a.value,W=n.value,B=i.value,V=u.value},z=p(!1),O=d=>{if(c.value&&!g.value){const e=c.value.parentElement,o=(e==null?void 0:e.offsetWidth)||0,w=(e==null?void 0:e.offsetHeight)||0,k=i.value-d.clientX,C=u.value-d.clientY;z.value=!0;const y=h=>{if(c.value&&z.value){let s=h.clientX+k,l=h.clientY+C;l=l<0?0:l,l=l>w-30?w-30:l,s=s<30-c.value.offsetWidth?30-c.value.offsetWidth:s,s=s>o-30?o-30:s,i.value=s,u.value=l}},m=()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",m),z.value=!1};document.addEventListener("mousemove",y),document.addEventListener("mouseup",m)}},_=p(!1),f=(d,e)=>{if(c.value&&!g.value){_.value=!0;const o=c.value.parentElement,w=(o==null?void 0:o.offsetWidth)||0,k=(o==null?void 0:o.offsetHeight)||0,C=i.value-d.clientX,y=u.value-d.clientY,m=parseInt(a.value),h=parseInt(n.value),s=i.value,l=u.value;_.value=!0;const N=S=>{if(c.value&&_.value){let v=S.clientX+C,r=S.clientY+y;switch(r=r>k-30?k-30:r,v=v>w-30?w-30:v,e){case"left":a.value=m+(s-v)+"px",i.value=v;break;case"top":n.value=h+(l-r)+"px",u.value=r;break;case"right":a.value=m-(s-v)+"px";break;case"bottom":n.value=h-(l-r)+"px";break;case"left-top":a.value=m+(s-v)+"px",n.value=h+(l-r)+"px",i.value=v,u.value=r;break;case"left-bottom":a.value=m+(s-v)+"px",n.value=h-(l-r)+"px",i.value=v;break;case"right-top":a.value=m-(s-v)+"px",n.value=h+(l-r)+"px",u.value=r;break;case"right-bottom":a.value=m-(s-v)+"px",n.value=h-(l-r)+"px"}}},I=()=>{_.value=!1,document.removeEventListener("mousemove",N),document.removeEventListener("mouseup",I)};document.addEventListener("mousemove",N),document.addEventListener("mouseup",I)}};return(d,e)=>(b(),M("div",{ref_key:"root",ref:c,class:K(["vega-app vega-shadow",[x.className,E.value?"vega-app-min":""]]),style:P({width:a.value,height:n.value,left:i.value+"px",top:u.value+"px",display:H.value?"block":"none",transition:z.value||_.value?"none":""})},[t("div",Q,[t("div",U,[t("div",{class:"header-left flex-row",onMousedown:O,onDblclick:F},[Z,t("div",ee,j(x.appName),1),te],32),t("div",oe,[t("button",{onClick:R},le),g.value?(b(),M("button",{key:0,onClick:Y},ne)):(b(),M("button",{key:1,onClick:X},ue)),ve])]),t("div",re,[z.value||_.value?(b(),M("div",ce)):A("",!0),G(d.$slots,"default")])]),g.value?A("",!0):(b(),M(J,{key:0},[t("div",{class:"resize-left",onMousedown:e[0]||(e[0]=o=>f(o,"left"))},null,32),t("div",{class:"resize-top",onMousedown:e[1]||(e[1]=o=>f(o,"top"))},null,32),t("div",{class:"resize-right",onMousedown:e[2]||(e[2]=o=>f(o,"right"))},null,32),t("div",{class:"resize-bottom",onMousedown:e[3]||(e[3]=o=>f(o,"bottom"))},null,32),t("div",{class:"resize-left-top",onMousedown:e[4]||(e[4]=o=>f(o,"left-top"))},null,32),t("div",{class:"resize-right-top",onMousedown:e[5]||(e[5]=o=>f(o,"right-top"))},null,32),t("div",{class:"resize-right-bottom",onMousedown:e[6]||(e[6]=o=>f(o,"right-bottom"))},null,32),t("div",{class:"resize-left-bottom",onMousedown:e[7]||(e[7]=o=>f(o,"left-bottom"))},null,32)],64))],6))}});export{pe as _};
